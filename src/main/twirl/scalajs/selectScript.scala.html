@(projectName:    String,
  assets:         String => String,
  resourceExists: String => Boolean,
  htmlAttributes: Html = Html("")
)

@defining(s"${projectName.toLowerCase}") { name =>
  @{
    val possibleBuildArtifactSuffixes = Seq("opt-bundle", "fastopt-bundle", "opt", "fastopt")
    possibleBuildArtifactSuffixes.map(suffix => s"$name-$suffix.js")
      .find(resourceExists).map(filename => jsScript(assets(filename), htmlAttributes))
  }
}
